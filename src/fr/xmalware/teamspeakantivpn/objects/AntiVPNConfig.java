package fr.xmalware.teamspeakantivpn.objects;

import fr.xmalware.teamspeakantivpn.Main;
import lombok.AllArgsConstructor;
import lombok.Data;

@AllArgsConstructor
@Data
public final class AntiVPNConfig
{

	private String	hostname;
	private int		queryPort;
	private String	queryUsername;
	private String	queryPassword;
	private int		virtualServerId;
	private String	nick;
	private String	ipDetectorApiKey;
	private boolean	banIdentity;
	private boolean	banIp;
	private String	banReason;
	
	public AntiVPNConfig()
	{
		setHostname("Set your TeamSpeak hostname/IP");
		setQueryPort(10011);
		setQueryUsername("serveradmin");
		setQueryPassword("Set your password");
		setVirtualServerId(1);
		setNick("MyTest");
		setIpDetectorApiKey("Set your IPDetector API key (See the readme file)");
		setBanIdentity(false);
		setBanIp(true);
		setBanReason("Set your ban reason (See the readme file)");
	}

	public final String toJson()
	{
		return Main.getTeamSpeak().getGson().toJson(this);
	}
	
	public static AntiVPNConfig toConfig(String jsonContent)
	{
		return Main.getTeamSpeak().getGson().fromJson(jsonContent, AntiVPNConfig.class);
	}
	
}
